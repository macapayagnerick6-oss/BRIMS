<div class="staff-dashboard">
  <h1 class="page-title">Barangay Resident Information System</h1>

  <div class="stats-grid">
    <div
      class="stat-card stat-card--blue stat-card--clickable"
      routerLink="/staff/residents"
    >
      <span class="stat-label">Total Residents</span>
      <span class="stat-value">{{ stats.totalResidents | number }}</span>
    </div>
    <div
      class="stat-card stat-card--orange stat-card--clickable"
      routerLink="/staff/households"
    >
      <span class="stat-label">Total Households</span>
      <span class="stat-value">{{ stats.totalHouseholds | number }}</span>
    </div>
    <div
      class="stat-card stat-card--green stat-card--clickable"
      routerLink="/staff/reports"
    >
      <span class="stat-label">Senior Citizens</span>
      <span class="stat-value">{{ stats.seniorCitizens | number }}</span>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>Recent Requests</h2>
      <a routerLink="/staff/requests" class="btn btn--primary">View All Requests</a>
    </div>
    <div class="requests-grid">
      @for (request of recentRequests; track request.id) {
        <div class="request-card" 
             [class.request-card--pending]="request.status === 'Pending'" 
             [class.request-card--review]="request.status === 'For Review'"
             [class.request-card--approved]="request.status === 'Approved'">
          <div class="request-card__header">
            <span class="request-type">{{ request.type }}</span>
            <span class="request-status" 
                  [class.status-pending]="request.status === 'Pending'"
                  [class.status-review]="request.status === 'For Review'"
                  [class.status-approved]="request.status === 'Approved'">
              {{ request.status }}
            </span>
          </div>
          <div class="request-card__body">
            <p class="request-purpose"><strong>Purpose:</strong> {{ request.purpose }}</p>
            <p class="request-date"><strong>Date:</strong> {{ request.date }}</p>
          </div>
          <div class="request-card__footer">
            <a [routerLink]="['/staff/requests', request.id]" class="btn btn--sm btn--primary">View Details</a>
          </div>
        </div>
      }
      @if (recentRequests.length === 0) {
        <div class="empty-state">
          <p>No recent requests found.</p>
        </div>
      }
    </div>
  </div>
</div>
