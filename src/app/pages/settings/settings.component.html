<div class="settings-page">
  <h1 class="page-title">Settings</h1>

  <div class="tabs-wrapper">
    <nav class="tabs" role="tablist">
      <button
        type="button"
        class="tab-button"
        [class.active]="activeTab === 'general'"
        (click)="setActiveTab('general')"
        role="tab"
        [attr.aria-selected]="activeTab === 'general'"
      >
        General
      </button>
      <button
        type="button"
        class="tab-button"
        [class.active]="activeTab === 'account'"
        (click)="setActiveTab('account')"
        role="tab"
        [attr.aria-selected]="activeTab === 'account'"
      >
        Account
      </button>
      <button
        type="button"
        class="tab-button"
        [class.active]="activeTab === 'system'"
        (click)="setActiveTab('system')"
        role="tab"
        [attr.aria-selected]="activeTab === 'system'"
      >
        System
      </button>
      <button
        type="button"
        class="tab-button"
        [class.active]="activeTab === 'security'"
        (click)="setActiveTab('security')"
        role="tab"
        [attr.aria-selected]="activeTab === 'security'"
      >
        Security
      </button>
    </nav>
  </div>

  <div class="tab-content">
    <!-- General Settings Tab -->
    <div *ngIf="activeTab === 'general'" class="settings-tab">
      <div class="card">
        <h2>Barangay Information</h2>
        <p class="section-description">Update your barangay's general information and contact details.</p>

        <div class="settings-grid">
          <div class="form-group">
            <label>Barangay Name</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="barangaySettings.name"
            />
          </div>

          <div class="form-group">
            <label>Province</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="barangaySettings.province"
            />
          </div>

          <div class="form-group full-width">
            <label>Address</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="barangaySettings.address"
            />
          </div>

          <div class="form-group">
            <label>Contact Number</label>
            <input
              type="tel"
              class="form-control"
              [(ngModel)]="barangaySettings.contact"
            />
          </div>

          <div class="form-group">
            <label>Email</label>
            <input
              type="email"
              class="form-control"
              [(ngModel)]="barangaySettings.email"
            />
          </div>

          <div class="form-group">
            <label>Website</label>
            <input
              type="url"
              class="form-control"
              [(ngModel)]="barangaySettings.website"
            />
          </div>
        </div>

        <div class="settings-footer">
          <span class="success-message" *ngIf="saved">✓ Settings saved successfully!</span>
          <span class="spacer"></span>
          <button type="button" class="btn btn--primary" (click)="saveGeneralSettings()">
            Save Changes
          </button>
        </div>
      </div>
    </div>

    <!-- Account Settings Tab -->
    <div *ngIf="activeTab === 'account'" class="settings-tab">
      <div class="card">
        <h2>Account Information</h2>
        <p class="section-description">Update your account details and change your password.</p>

        <div class="settings-grid">
          <div class="form-group">
            <label>Full Name</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="accountSettings.name"
            />
          </div>

          <div class="form-group">
            <label>Email Address</label>
            <input
              type="email"
              class="form-control"
              [(ngModel)]="accountSettings.email"
            />
          </div>
        </div>

        <div class="divider"></div>

        <h3>Change Password</h3>
        <div class="settings-grid">
          <div class="form-group">
            <label>Current Password</label>
            <input
              type="password"
              class="form-control"
              [(ngModel)]="accountSettings.currentPassword"
              placeholder="Enter current password"
            />
          </div>

          <div class="form-group">
            <label>New Password</label>
            <input
              type="password"
              class="form-control"
              [(ngModel)]="accountSettings.newPassword"
              placeholder="Enter new password"
            />
          </div>

          <div class="form-group">
            <label>Confirm New Password</label>
            <input
              type="password"
              class="form-control"
              [(ngModel)]="accountSettings.confirmPassword"
              placeholder="Confirm new password"
            />
          </div>
        </div>

        <div class="settings-footer">
          <span class="error-message" *ngIf="error">{{ error }}</span>
          <span class="success-message" *ngIf="saved && !error">✓ Account updated successfully!</span>
          <span class="spacer"></span>
          <button type="button" class="btn btn--primary" (click)="saveAccountSettings()">
            Save Changes
          </button>
        </div>
      </div>
    </div>

    <!-- System Settings Tab -->
    <div *ngIf="activeTab === 'system'" class="settings-tab">
      <div class="card">
        <h2>System Preferences</h2>
        <p class="section-description">Configure system-wide settings and preferences.</p>

        <div class="settings-section">
          <h3>Notifications</h3>
          <div class="settings-grid">
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="systemSettings.enableNotifications"
                />
                <span>Enable Notifications</span>
              </label>
            </div>

            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="systemSettings.emailNotifications"
                  [disabled]="!systemSettings.enableNotifications"
                />
                <span>Email Notifications</span>
              </label>
            </div>

            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="systemSettings.smsNotifications"
                  [disabled]="!systemSettings.enableNotifications"
                />
                <span>SMS Notifications</span>
              </label>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="settings-section">
          <h3>Data Management</h3>
          <div class="settings-grid">
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="systemSettings.autoBackup"
                />
                <span>Automatic Backup</span>
              </label>
            </div>

            <div class="form-group">
              <label>Backup Frequency</label>
              <select class="form-control" [(ngModel)]="systemSettings.backupFrequency">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
              </select>
            </div>

            <div class="form-group">
              <label>Data Retention (days)</label>
              <input
                type="number"
                class="form-control"
                [(ngModel)]="systemSettings.dataRetention"
                min="30"
                max="3650"
              />
            </div>

            <div class="form-group">
              <label>Session Timeout (minutes)</label>
              <input
                type="number"
                class="form-control"
                [(ngModel)]="systemSettings.sessionTimeout"
                min="5"
                max="120"
              />
            </div>
          </div>
        </div>

        <div class="settings-footer">
          <span class="success-message" *ngIf="saved">✓ Settings saved successfully!</span>
          <span class="spacer"></span>
          <button type="button" class="btn btn--primary" (click)="saveSystemSettings()">
            Save Changes
          </button>
        </div>
      </div>
    </div>

    <!-- Security Settings Tab -->
    <div *ngIf="activeTab === 'security'" class="settings-tab">
      <div class="card">
        <h2>Security Settings</h2>
        <p class="section-description">Manage security features and access controls.</p>

        <div class="settings-section">
          <h3>Authentication</h3>
          <div class="settings-grid">
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="securitySettings.twoFactorAuth"
                />
                <span>Enable Two-Factor Authentication</span>
              </label>
            </div>

            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="securitySettings.requireStrongPassword"
                />
                <span>Require Strong Passwords</span>
              </label>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="settings-section">
          <h3>Login Protection</h3>
          <div class="settings-grid">
            <div class="form-group">
              <label>Maximum Login Attempts</label>
              <input
                type="number"
                class="form-control"
                [(ngModel)]="securitySettings.loginAttempts"
                min="3"
                max="10"
              />
            </div>

            <div class="form-group">
              <label>Account Lockout Duration (minutes)</label>
              <input
                type="number"
                class="form-control"
                [(ngModel)]="securitySettings.lockoutDuration"
                min="5"
                max="60"
              />
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="settings-section">
          <h3>Audit & Logging</h3>
          <div class="settings-grid">
            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  [(ngModel)]="securitySettings.auditLogging"
                />
                <span>Enable Audit Logging</span>
              </label>
            </div>
          </div>
        </div>

        <div class="settings-footer">
          <span class="success-message" *ngIf="saved">✓ Settings saved successfully!</span>
          <span class="spacer"></span>
          <button type="button" class="btn btn--primary" (click)="saveSecuritySettings()">
            Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
