import{b as P,c as v,f as H,i as O,j as L,k as I,o as A}from"./chunk-KYS23DP7.js";import{f as E}from"./chunk-BRLNKSN4.js";import"./chunk-KPGMZ2XY.js";import{c as k}from"./chunk-DUWH3AKD.js";import{$a as t,Ea as f,Ia as x,Vb as y,Xa as C,Ya as _,Za as p,_a as e,ab as h,db as S,lb as i,mb as s,ob as M,qb as u,rb as c,sb as g,ub as b,vb as w,xa as l}from"./chunk-PQPYQFLK.js";var F=()=>["/staff/households/map"],N=a=>["/staff/households",a],T=(a,m)=>m.id;function W(a,m){if(a&1&&(e(0,"tr")(1,"td"),h(2,"input",13),t(),e(3,"td")(4,"strong"),i(5),t()(),e(6,"td"),i(7),t(),e(8,"td"),i(9),t(),e(10,"td"),i(11),t(),e(12,"td")(13,"span",14),i(14),t()(),e(15,"td")(16,"a",15),i(17,"View"),t()()()),a&2){let n=m.$implicit,o=S();l(5),s(n.householdId),l(2),s(o.getHeadOfHousehold(n)),l(2),s(n.address),l(2),s(n.purok),l(3),M("",n.members.length," member",n.members.length!==1?"s":""),l(2),p("routerLink",w(7,N,n.id))}}function V(a,m){a&1&&(e(0,"tr")(1,"td",16),i(2," No households found "),t()())}var J=(()=>{class a{constructor(n){this.data=n,this.households=this.data.households,this.search="",this.purok=""}get filteredHouseholds(){let n=[...this.households];if(this.search){let o=this.search.toLowerCase();n=n.filter(r=>r.householdId.toLowerCase().includes(o)||r.address.toLowerCase().includes(o)||this.getHeadOfHousehold(r).toLowerCase().includes(o))}return this.purok&&(n=n.filter(o=>o.purok===this.purok)),n}getHeadOfHousehold(n){let o=n.members.find(r=>r.relationship==="Head");return o?o.name:n.members[0]?.name||"N/A"}static{this.\u0275fac=function(o){return new(o||a)(f(k))}}static{this.\u0275cmp=x({type:a,selectors:[["app-households"]],decls:39,vars:5,consts:[[1,"households-list"],[1,"page-header"],[1,"page-title"],[1,"btn","btn--outline",3,"routerLink"],[1,"filters"],["type","text","placeholder","Search by Household ID or Address",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Purok 1"],["value","Purok 2"],["value","Purok 3"],[1,"table-wrap","card"],[1,"table"],["type","checkbox"],[1,"badge","badge--info"],[1,"btn","btn--sm","btn--outline",3,"routerLink"],["colspan","7",2,"text-align","center","padding","2rem","color","var(--color-text-muted)"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"Households"),t(),e(4,"a",3),i(5," View Map "),t()(),e(6,"div",4)(7,"input",5),g("ngModelChange",function(d){return c(r.search,d)||(r.search=d),d}),t(),e(8,"select",6),g("ngModelChange",function(d){return c(r.purok,d)||(r.purok=d),d}),e(9,"option",7),i(10,"Purok"),t(),e(11,"option",8),i(12,"Purok 1"),t(),e(13,"option",9),i(14,"Purok 2"),t(),e(15,"option",10),i(16,"Purok 3"),t()()(),e(17,"div",11)(18,"table",12)(19,"thead")(20,"tr")(21,"th"),h(22,"input",13),t(),e(23,"th"),i(24,"Household ID"),t(),e(25,"th"),i(26,"Head of Household"),t(),e(27,"th"),i(28,"Address"),t(),e(29,"th"),i(30,"Purok"),t(),e(31,"th"),i(32,"Members"),t(),e(33,"th"),i(34,"Actions"),t()()(),e(35,"tbody"),C(36,W,18,9,"tr",null,T,!1,V,3,0,"tr"),t()()()()),o&2&&(l(4),p("routerLink",b(4,F)),l(3),u("ngModel",r.search),l(),u("ngModel",r.purok),l(28),_(r.filteredHouseholds))},dependencies:[y,A,L,I,P,O,v,H,E],styles:[".households-list[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.page-header[_ngcontent-%COMP%]:has(.btn--primary){padding-right:176px}@media(max-width:640px){.page-header[_ngcontent-%COMP%]:has(.btn--primary){padding-right:164px}}@media(max-width:640px){.page-header[_ngcontent-%COMP%]:has(.btn--primary){padding-right:0}}.filters[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:1rem;flex-wrap:wrap}.filters[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:8px 12px;min-width:140px}.filters[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:first-child{min-width:200px;flex:1}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;padding:0!important}"]})}}return a})();export{J as HouseholdsComponent};
