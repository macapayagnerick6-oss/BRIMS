import{b as P,c as O,d as v,e as S,f as E,g as k,o as L}from"./chunk-KYS23DP7.js";import{e as y}from"./chunk-BRLNKSN4.js";import"./chunk-KPGMZ2XY.js";import{d as b}from"./chunk-DUWH3AKD.js";import{$a as t,Ea as s,Ia as f,Ta as h,Ua as _,Vb as M,_a as e,ab as C,cb as d,db as w,lb as l,mb as x,qb as p,rb as c,sb as u,xa as m}from"./chunk-PQPYQFLK.js";function F(r,j){if(r&1&&(e(0,"p",11),l(1),t()),r&2){let o=w();m(),x(o.error)}}var D=(()=>{class r{constructor(o,i){this.auth=o,this.router=i,this.email="",this.password="",this.error=""}onSubmit(){this.error="";let o=this.auth.login(this.email,this.password);if(o.success){let i=o.role==="staff"?"/staff":"/resident";this.router.navigate([i])}else this.error="Invalid email or password. Use the email and password set by the barangay."}onForgotPassword(){this.router.navigate(["/forgot-password"])}static{this.\u0275fac=function(i){return new(i||r)(s(b),s(y))}}static{this.\u0275cmp=f({type:r,selectors:[["app-login"]],decls:20,vars:3,consts:[[1,"login-page"],[1,"login-card","card"],[1,"login-logo"],["src","/assets/images/FOR-DASHBOARD.png","alt","Logo",1,"logo"],[1,"login-title"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","text","name","email","placeholder","Email or Username","autocomplete","username",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","Password","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],[1,"login-error"],["type","submit",1,"btn","btn--primary","login-btn"],[1,"forgot-link",3,"click"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),C(3,"img",3),t(),e(4,"h1",4),l(5,"Barangay Resident Information Management System"),t(),e(6,"form",5),d("ngSubmit",function(){return n.onSubmit()}),e(7,"div",6)(8,"label",7),l(9,"Email or Username"),t(),e(10,"input",8),u("ngModelChange",function(a){return c(n.email,a)||(n.email=a),a}),t()(),e(11,"div",6)(12,"label",9),l(13,"Password"),t(),e(14,"input",10),u("ngModelChange",function(a){return c(n.password,a)||(n.password=a),a}),t()(),h(15,F,2,1,"p",11),e(16,"button",12),l(17,"Sign In"),t(),e(18,"a",13),d("click",function(){return n.onForgotPassword()}),l(19,"Forgot password?"),t()()()()),i&2&&(m(10),p("ngModel",n.email),m(4),p("ngModel",n.password),m(),_(n.error?15:-1))},dependencies:[M,L,k,P,O,v,E,S],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;background:url(/assets/images/BG.jpg) no-repeat center center fixed;background-size:cover}@media(max-width:640px){.login-page[_ngcontent-%COMP%]{padding:16px;align-items:flex-start;padding-top:2rem}}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);animation:_ngcontent-%COMP%_loginCardEnter .5s ease-out}@media(max-width:640px){.login-card[_ngcontent-%COMP%]{max-width:100%;border-radius:var(--radius)}}@keyframes _ngcontent-%COMP%_loginCardEnter{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.login-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:280px;height:280px;object-fit:contain}@media(max-width:640px){.login-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:200px;height:200px}}@media(max-width:480px){.login-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:150px;height:150px}}.login-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text);text-align:center;margin:0 0 1.5rem;line-height:1.4}@media(max-width:640px){.login-title[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:1.25rem}}@media(max-width:480px){.login-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:.5rem;margin-bottom:.75rem}.forgot-link[_ngcontent-%COMP%]{display:block;text-align:right;font-size:.875rem;color:var(--color-primary);cursor:pointer;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-error[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;margin:-.5rem 0 .5rem}"]})}}return r})();export{D as LoginComponent};
