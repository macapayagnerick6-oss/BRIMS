import{b as x,c as w,d as R,e as E,f as T,g as N,i as B,j as I,k as W,o as D}from"./chunk-KYS23DP7.js";import{f as P}from"./chunk-BRLNKSN4.js";import"./chunk-KPGMZ2XY.js";import{c as v,d as O}from"./chunk-DUWH3AKD.js";import{$a as t,Ea as l,Ia as f,Ta as C,Ua as _,Vb as b,Xa as M,Ya as y,_a as e,cb as q,lb as n,mb as h,ob as S,qb as d,rb as u,sb as p,xa as c}from"./chunk-PQPYQFLK.js";var F=(o,m)=>m.id;function z(o,m){o&1&&(e(0,"p",10),n(1,"Request submitted successfully."),t())}function L(o,m){if(o&1&&(e(0,"div",13)(1,"div",14)(2,"span",15),n(3),t(),e(4,"span",16),n(5),t()(),e(6,"a",17),n(7,"See Status"),t()()),o&2){let i=m.$implicit;c(3),h(i.type),c(2),S("",i.status," \xB7 ",i.date)}}var J=(()=>{class o{constructor(i,s){this.data=i,this.auth=s,this.docType="Barangay Clearance",this.purpose="",this.submitted=!1}get requests(){let i=this.auth.currentUser;if(!i||i.role!=="resident")return[];let s=this.data.getResidentById(i.id);return this.data.getRequestsByResidentId(s?.residentId??"")}submit(){this.submitted=!0,this.purpose=""}static{this.\u0275fac=function(s){return new(s||o)(l(v),l(O))}}static{this.\u0275cmp=f({type:o,selectors:[["app-request-certificate"]],decls:28,vars:3,consts:[[1,"request-certificate"],[1,"page-title"],[1,"form-card","card"],[3,"ngSubmit"],[1,"form-group"],["for","doctype"],["id","doctype","name","docType",1,"form-control",3,"ngModelChange","ngModel"],["for","purpose"],["id","purpose","name","purpose","rows","4","placeholder","e.g. For employment purposes",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn--success"],[1,"success-msg"],[1,"my-requests-section"],[1,"requests-list","card"],[1,"request-row"],[1,"request-info"],[1,"request-type"],[1,"request-meta"],["routerLink","/resident/requests",1,"btn","btn--success","btn--sm"]],template:function(s,r){s&1&&(e(0,"div",0)(1,"h1",1),n(2,"Request Certificate"),t(),e(3,"div",2)(4,"form",3),q("ngSubmit",function(){return r.submit()}),e(5,"div",4)(6,"label",5),n(7,"Type of Document"),t(),e(8,"select",6),p("ngModelChange",function(a){return u(r.docType,a)||(r.docType=a),a}),e(9,"option"),n(10,"Barangay Clearance"),t(),e(11,"option"),n(12,"Certificate of Residency"),t(),e(13,"option"),n(14,"Request Clearance"),t()()(),e(15,"div",4)(16,"label",7),n(17,"Purpose"),t(),e(18,"textarea",8),p("ngModelChange",function(a){return u(r.purpose,a)||(r.purpose=a),a}),t()(),e(19,"button",9),n(20,"Submit Request"),t()()(),C(21,z,2,0,"p",10),e(22,"div",11)(23,"h2"),n(24,"My Requests"),t(),e(25,"div",12),M(26,L,8,3,"div",13,F),t()()()),s&2&&(c(8),d("ngModel",r.docType),c(10),d("ngModel",r.purpose),c(3),_(r.submitted?21:-1),c(5),y(r.requests))},dependencies:[b,D,N,I,W,x,B,w,R,T,E,P],styles:[".request-certificate[_ngcontent-%COMP%]{width:100%}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0 0 1.5rem}.form-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px 14px}.form-card[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{padding-left:14px;min-height:100px;resize:vertical}.form-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.5rem}.success-msg[_ngcontent-%COMP%]{color:var(--color-success);margin:-.5rem 0 1rem;font-weight:500}.my-requests-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0 0 .75rem}.requests-list[_ngcontent-%COMP%]{padding:0!important}.request-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid var(--color-border)}.request-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.request-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.request-info[_ngcontent-%COMP%]   .request-type[_ngcontent-%COMP%]{font-weight:500}.request-info[_ngcontent-%COMP%]   .request-meta[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted)}"]})}}return o})();export{J as RequestCertificateComponent};
