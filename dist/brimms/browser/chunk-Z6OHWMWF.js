import{k as f,t as l,v as R}from"./chunk-6KDKIL6P.js";import{N as g}from"./chunk-PQPYQFLK.js";var p=(()=>{class r{constructor(){this.writer=new R}generateQRCodeDataURL(e,t=256){try{let o=new Map;o.set(l.MARGIN,2);let a=this.writer.encode(e,f.QR_CODE,t,t,o),i=document.createElement("canvas");i.width=t,i.height=t;let n=i.getContext("2d");if(!n)throw new Error("Could not get canvas context");n.fillStyle="#FFFFFF",n.fillRect(0,0,t,t),n.fillStyle="#000000";let c=t/a.getWidth();for(let d=0;d<a.getWidth();d++)for(let s=0;s<a.getHeight();s++)a.get(d,s)&&n.fillRect(d*c,s*c,c,c);return i.toDataURL("image/png")}catch(o){throw console.error("Error generating QR code:",o),o}}generateResidentQRCode(e){let t=JSON.stringify({type:"resident",id:e,residentId:e});return this.generateQRCodeDataURL(t)}generateRequestQRCode(e){let t=JSON.stringify({type:"request",id:e});return this.generateQRCodeDataURL(t)}generateCertificateQRCode(e){let t=JSON.stringify({type:"certificate",id:e});return this.generateQRCodeDataURL(t)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{p as a};
