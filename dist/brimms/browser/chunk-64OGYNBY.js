import{a as R,b as T,c as V,f as W,i as k,j as A,k as N,o as I}from"./chunk-KYS23DP7.js";import{d as E}from"./chunk-DUWH3AKD.js";import{$a as n,Ea as h,Ia as b,Na as S,Rb as P,Sa as C,Vb as O,X as d,Y as g,Za as _,_a as t,ab as f,bb as y,cb as w,db as s,kb as x,lb as r,mb as M,qb as p,rb as m,sb as u,xa as a}from"./chunk-PQPYQFLK.js";function q(l,v){if(l&1&&(t(0,"span",23),r(1),n()),l&2){let i=s(2);a(),M(i.error)}}function B(l,v){l&1&&(t(0,"span",24),r(1,"\u2713 Account updated successfully!"),n())}function L(l,v){if(l&1){let i=y();t(0,"div",7)(1,"div",8)(2,"h2"),r(3,"Account Information"),n(),t(4,"p",9),r(5,"Update your account details and change your password."),n(),t(6,"div",10)(7,"div",11)(8,"label"),r(9,"Full Name"),n(),t(10,"input",12),u("ngModelChange",function(e){d(i);let o=s();return m(o.accountSettings.name,e)||(o.accountSettings.name=e),g(e)}),n()(),t(11,"div",11)(12,"label"),r(13,"Email Address"),n(),t(14,"input",13),u("ngModelChange",function(e){d(i);let o=s();return m(o.accountSettings.email,e)||(o.accountSettings.email=e),g(e)}),n()()(),f(15,"div",14),t(16,"h3"),r(17,"Change Password"),n(),t(18,"div",10)(19,"div",11)(20,"label"),r(21,"Current Password"),n(),t(22,"input",15),u("ngModelChange",function(e){d(i);let o=s();return m(o.accountSettings.currentPassword,e)||(o.accountSettings.currentPassword=e),g(e)}),n()(),t(23,"div",11)(24,"label"),r(25,"New Password"),n(),t(26,"input",16),u("ngModelChange",function(e){d(i);let o=s();return m(o.accountSettings.newPassword,e)||(o.accountSettings.newPassword=e),g(e)}),n()(),t(27,"div",11)(28,"label"),r(29,"Confirm New Password"),n(),t(30,"input",17),u("ngModelChange",function(e){d(i);let o=s();return m(o.accountSettings.confirmPassword,e)||(o.accountSettings.confirmPassword=e),g(e)}),n()()(),t(31,"div",18),S(32,q,2,1,"span",19)(33,B,2,0,"span",20),f(34,"span",21),t(35,"button",22),w("click",function(){d(i);let e=s();return g(e.saveAccountSettings())}),r(36," Save Changes "),n()()()()}if(l&2){let i=s();a(10),p("ngModel",i.accountSettings.name),a(4),p("ngModel",i.accountSettings.email),a(8),p("ngModel",i.accountSettings.currentPassword),a(4),p("ngModel",i.accountSettings.newPassword),a(4),p("ngModel",i.accountSettings.confirmPassword),a(2),_("ngIf",i.error),a(),_("ngIf",i.saved&&!i.error)}}function z(l,v){l&1&&(t(0,"span",24),r(1,"\u2713 Preferences saved successfully!"),n())}function D(l,v){if(l&1){let i=y();t(0,"div",7)(1,"div",8)(2,"h2"),r(3,"Notification Preferences"),n(),t(4,"p",9),r(5,"Manage how you receive notifications about your requests and updates."),n(),t(6,"div",25)(7,"div",10)(8,"div",26)(9,"label",27)(10,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.enableNotifications,e)||(o.preferences.enableNotifications=e),g(e)}),n(),t(11,"span"),r(12,"Enable Notifications"),n()()(),t(13,"div",26)(14,"label",27)(15,"input",29),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.emailNotifications,e)||(o.preferences.emailNotifications=e),g(e)}),n(),t(16,"span"),r(17,"Email Notifications"),n()()(),t(18,"div",26)(19,"label",27)(20,"input",29),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.smsNotifications,e)||(o.preferences.smsNotifications=e),g(e)}),n(),t(21,"span"),r(22,"SMS Notifications"),n()()()()(),f(23,"div",14),t(24,"h3"),r(25,"Request Updates"),n(),t(26,"div",25)(27,"div",10)(28,"div",26)(29,"label",27)(30,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.notifyOnRequestStatus,e)||(o.preferences.notifyOnRequestStatus=e),g(e)}),n(),t(31,"span"),r(32,"Notify when request status changes"),n()()(),t(33,"div",26)(34,"label",27)(35,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.notifyOnRequestApproval,e)||(o.preferences.notifyOnRequestApproval=e),g(e)}),n(),t(36,"span"),r(37,"Notify when request is approved"),n()()(),t(38,"div",26)(39,"label",27)(40,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.preferences.notifyOnRequestRejection,e)||(o.preferences.notifyOnRequestRejection=e),g(e)}),n(),t(41,"span"),r(42,"Notify when request is rejected"),n()()()()(),t(43,"div",18),S(44,z,2,0,"span",20),f(45,"span",21),t(46,"button",22),w("click",function(){d(i);let e=s();return g(e.savePreferences())}),r(47," Save Changes "),n()()()()}if(l&2){let i=s();a(10),p("ngModel",i.preferences.enableNotifications),a(5),p("ngModel",i.preferences.emailNotifications),_("disabled",!i.preferences.enableNotifications),a(5),p("ngModel",i.preferences.smsNotifications),_("disabled",!i.preferences.enableNotifications),a(10),p("ngModel",i.preferences.notifyOnRequestStatus),a(5),p("ngModel",i.preferences.notifyOnRequestApproval),a(5),p("ngModel",i.preferences.notifyOnRequestRejection),a(4),_("ngIf",i.saved)}}function F(l,v){l&1&&(t(0,"span",24),r(1,"\u2713 Privacy settings saved successfully!"),n())}function j(l,v){if(l&1){let i=y();t(0,"div",7)(1,"div",8)(2,"h2"),r(3,"Privacy Settings"),n(),t(4,"p",9),r(5,"Control your privacy and data sharing preferences."),n(),t(6,"div",25)(7,"h3"),r(8,"Profile Visibility"),n(),t(9,"div",10)(10,"div",11)(11,"label"),r(12,"Who can view your profile"),n(),t(13,"select",30),u("ngModelChange",function(e){d(i);let o=s();return m(o.privacySettings.profileVisibility,e)||(o.privacySettings.profileVisibility=e),g(e)}),t(14,"option",31),r(15,"Public (All residents)"),n(),t(16,"option",32),r(17,"Barangay Staff Only"),n(),t(18,"option",33),r(19,"Private (Only Me)"),n()()()()(),f(20,"div",14),t(21,"div",25)(22,"h3"),r(23,"Data Sharing"),n(),t(24,"div",10)(25,"div",26)(26,"label",27)(27,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.privacySettings.allowDataSharing,e)||(o.privacySettings.allowDataSharing=e),g(e)}),n(),t(28,"span"),r(29,"Allow data sharing for barangay services"),n()()(),t(30,"div",26)(31,"label",27)(32,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.privacySettings.showContactInfo,e)||(o.privacySettings.showContactInfo=e),g(e)}),n(),t(33,"span"),r(34,"Show contact information in profile"),n()()()()(),f(35,"div",14),t(36,"div",25)(37,"h3"),r(38,"Account Security"),n(),t(39,"div",10)(40,"div",26)(41,"label",27)(42,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.privacySettings.twoFactorAuth,e)||(o.privacySettings.twoFactorAuth=e),g(e)}),n(),t(43,"span"),r(44,"Enable Two-Factor Authentication"),n()()(),t(45,"div",26)(46,"label",27)(47,"input",28),u("ngModelChange",function(e){d(i);let o=s();return m(o.privacySettings.loginAlerts,e)||(o.privacySettings.loginAlerts=e),g(e)}),n(),t(48,"span"),r(49,"Receive alerts for new login attempts"),n()()()()(),t(50,"div",18),S(51,F,2,0,"span",20),f(52,"span",21),t(53,"button",22),w("click",function(){d(i);let e=s();return g(e.savePrivacySettings())}),r(54," Save Changes "),n()()()()}if(l&2){let i=s();a(13),p("ngModel",i.privacySettings.profileVisibility),a(14),p("ngModel",i.privacySettings.allowDataSharing),a(5),p("ngModel",i.privacySettings.showContactInfo),a(10),p("ngModel",i.privacySettings.twoFactorAuth),a(5),p("ngModel",i.privacySettings.loginAlerts),a(4),_("ngIf",i.saved)}}var X=(()=>{class l{constructor(i){this.auth=i,this.activeTab="account",this.saved=!1,this.error="",this.accountSettings={name:this.auth.currentUser?.name||"",email:this.auth.currentUser?.email||"",currentPassword:"",newPassword:"",confirmPassword:""},this.preferences={enableNotifications:!0,emailNotifications:!0,smsNotifications:!1,notifyOnRequestStatus:!0,notifyOnRequestApproval:!0,notifyOnRequestRejection:!0},this.privacySettings={profileVisibility:"barangay",allowDataSharing:!0,showContactInfo:!0,twoFactorAuth:!1,loginAlerts:!0}}setActiveTab(i){this.activeTab=i,this.saved=!1,this.error=""}saveAccountSettings(){if(this.accountSettings.newPassword&&this.accountSettings.newPassword!==this.accountSettings.confirmPassword){this.error="New passwords do not match.";return}if(this.accountSettings.newPassword&&this.accountSettings.newPassword.length<8){this.error="Password must be at least 8 characters long.";return}this.error="",this.saved=!0,this.accountSettings.currentPassword="",this.accountSettings.newPassword="",this.accountSettings.confirmPassword="",setTimeout(()=>{this.saved=!1},3e3)}savePreferences(){this.saved=!0,setTimeout(()=>{this.saved=!1},3e3)}savePrivacySettings(){this.saved=!0,setTimeout(()=>{this.saved=!1},3e3)}static{this.\u0275fac=function(c){return new(c||l)(h(E))}}static{this.\u0275cmp=b({type:l,selectors:[["app-resident-settings"]],decls:15,vars:12,consts:[[1,"settings-page"],[1,"page-title"],[1,"tabs-wrapper"],["role","tablist",1,"tabs"],["type","button","role","tab",1,"tab-button",3,"click"],[1,"tab-content"],["class","settings-tab",4,"ngIf"],[1,"settings-tab"],[1,"card"],[1,"section-description"],[1,"settings-grid"],[1,"form-group"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"divider"],["type","password","placeholder","Enter current password",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Enter new password",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Confirm new password",1,"form-control",3,"ngModelChange","ngModel"],[1,"settings-footer"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"spacer"],["type","button",1,"btn","btn--primary",3,"click"],[1,"error-message"],[1,"success-message"],[1,"settings-section"],[1,"form-group","checkbox-group"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel","disabled"],[1,"form-control",3,"ngModelChange","ngModel"],["value","public"],["value","barangay"],["value","private"]],template:function(c,e){c&1&&(t(0,"div",0)(1,"h1",1),r(2,"Settings"),n(),t(3,"div",2)(4,"nav",3)(5,"button",4),w("click",function(){return e.setActiveTab("account")}),r(6," Account "),n(),t(7,"button",4),w("click",function(){return e.setActiveTab("preferences")}),r(8," Preferences "),n(),t(9,"button",4),w("click",function(){return e.setActiveTab("privacy")}),r(10," Privacy "),n()()(),t(11,"div",5),S(12,L,37,7,"div",6)(13,D,48,9,"div",6)(14,j,55,6,"div",6),n()()),c&2&&(a(5),x("active",e.activeTab==="account"),C("aria-selected",e.activeTab==="account"),a(2),x("active",e.activeTab==="preferences"),C("aria-selected",e.activeTab==="preferences"),a(2),x("active",e.activeTab==="privacy"),C("aria-selected",e.activeTab==="privacy"),a(3),_("ngIf",e.activeTab==="account"),a(),_("ngIf",e.activeTab==="preferences"),a(),_("ngIf",e.activeTab==="privacy"))},dependencies:[O,P,I,A,N,T,R,k,V,W],styles:[".settings-page[_ngcontent-%COMP%]{width:100%}.page-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.5rem;font-weight:600}.tabs-wrapper[_ngcontent-%COMP%]{margin-bottom:1.75rem}.tabs[_ngcontent-%COMP%]{display:inline-flex;gap:0;padding:6px;background:var(--color-bg);border-radius:var(--radius-lg);border:1px solid var(--color-border);box-shadow:0 1px 3px #0000000f;width:100%;max-width:100%}.tabs[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{flex:1;min-width:0;padding:12px 24px;background:transparent;border:none;border-radius:calc(var(--radius-lg) - 4px);font-weight:500;font-size:.9375rem;color:var(--color-text-muted);cursor:pointer;transition:color .2s ease,background .2s ease,box-shadow .2s ease;white-space:nowrap}.tabs[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover:not(.active){color:var(--color-text);background:#0000000a}.tabs[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]{color:#fff;background:var(--color-primary);box-shadow:0 2px 8px #2563eb59}.tab-content[_ngcontent-%COMP%]{min-height:400px}.settings-tab[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.settings-tab[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--color-text)}.settings-tab[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:600;color:var(--color-text)}.settings-tab[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{margin:0;color:var(--color-text-muted);font-size:.875rem}.settings-tab[_ngcontent-%COMP%]   .settings-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.settings-tab[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background:var(--color-border);margin:1rem 0}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem 1.5rem}.settings-grid[_ngcontent-%COMP%]   .form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.settings-grid[_ngcontent-%COMP%]   .form-group.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center}.settings-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:6px;color:var(--color-text);font-size:.875rem}.settings-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;margin-bottom:0}.settings-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:var(--color-primary)}.settings-grid[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;-webkit-user-select:none;user-select:none}.settings-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding-top:1rem;border-top:1px solid var(--color-border)}.settings-footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.settings-footer[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{color:var(--color-success);font-size:.875rem;font-weight:500}.settings-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--color-warning);font-size:.875rem;font-weight:500}"]})}}return l})();export{X as ResidentSettingsComponent};
