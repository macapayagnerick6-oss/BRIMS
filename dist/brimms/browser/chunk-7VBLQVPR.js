import{b as P,c as x,d as O,e as W,f as B,g as A,h as R,i as T,j as k,k as N,l as L,m as I,n as q,o as F}from"./chunk-KYS23DP7.js";import{e as v,f as w}from"./chunk-BRLNKSN4.js";import"./chunk-KPGMZ2XY.js";import{c as E}from"./chunk-DUWH3AKD.js";import{$a as t,Ea as c,Ia as b,Ta as u,Ua as f,Vb as y,Za as _,_a as e,cb as h,db as M,lb as i,mb as S,qb as a,rb as l,sb as s,xa as o}from"./chunk-PQPYQFLK.js";function G(m,V){if(m&1&&(e(0,"div",59),i(1),t()),m&2){let g=M();o(),S(g.error)}}function j(m,V){m&1&&(e(0,"div",60),i(1,"Resident added successfully! Redirecting to residents list..."),t())}var Z=(()=>{class m{constructor(g,p){this.data=g,this.router=p,this.resident={name:"",age:void 0,gender:"",purok:"",birthdate:"",placeOfBirth:"",birthCertificateNumber:"",bloodType:"",civilStatus:"",nationality:"",contact:"",email:"",password:"",address:""},this.submitted=!1,this.error=""}submit(){if(!this.resident.name||!this.resident.age||!this.resident.gender||!this.resident.purok){this.error="Please fill in all required fields (Name, Age, Gender, Purok)";return}if(!this.resident.email||!this.resident.password){this.error="Please fill in login credentials (Email and Password) for resident portal access.";return}let g=this.data.residents.map(D=>{let C=D.residentId.match(/BRGY-(\d+)/);return C?parseInt(C[1]):0}),d=`BRGY-${(g.length>0?Math.max(...g):1e3)+1}`,z={id:(this.data.residents.length+1).toString(),residentId:d,name:this.resident.name,age:this.resident.age,gender:this.resident.gender,purok:this.resident.purok,birthdate:this.resident.birthdate||void 0,placeOfBirth:this.resident.placeOfBirth||void 0,birthCertificateNumber:this.resident.birthCertificateNumber||void 0,bloodType:this.resident.bloodType||void 0,civilStatus:this.resident.civilStatus||void 0,nationality:this.resident.nationality||void 0,contact:this.resident.contact||void 0,email:this.resident.email||void 0,password:this.resident.password||void 0,address:this.resident.address||void 0};this.data.addResident(z),this.submitted=!0,this.error="",setTimeout(()=>{this.router.navigate(["/staff/residents"])},1500)}reset(){this.resident={name:"",age:void 0,gender:"",purok:"",birthdate:"",placeOfBirth:"",birthCertificateNumber:"",bloodType:"",civilStatus:"",nationality:"",contact:"",email:"",password:"",address:""},this.submitted=!1,this.error=""}static{this.\u0275fac=function(p){return new(p||m)(c(E),c(v))}}static{this.\u0275cmp=b({type:m,selectors:[["app-add-resident"]],decls:147,vars:17,consts:[[1,"add-resident"],[1,"page-header"],[1,"page-title"],["routerLink","/staff/residents",1,"btn","btn--outline"],[1,"form-card","card"],[3,"ngSubmit"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","name","name","placeholder","Enter full name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","age"],["type","number","id","age","name","age","placeholder","Enter age","min","0","max","120","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","gender"],["id","gender","name","gender","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Male"],["value","Female"],["for","birthdate"],["type","date","id","birthdate","name","birthdate",1,"form-control",3,"ngModelChange","ngModel"],["for","placeOfBirth"],["type","text","id","placeOfBirth","name","placeOfBirth","placeholder","e.g. Villanueva, Misamis Oriental",1,"form-control",3,"ngModelChange","ngModel"],["for","birthCertificateNumber"],["type","text","id","birthCertificateNumber","name","birthCertificateNumber","placeholder","e.g. BC-1980-001234",1,"form-control",3,"ngModelChange","ngModel"],["for","bloodType"],["id","bloodType","name","bloodType",1,"form-control",3,"ngModelChange","ngModel"],["value","A+"],["value","A-"],["value","B+"],["value","B-"],["value","AB+"],["value","AB-"],["value","O+"],["value","O-"],["for","civilStatus"],["id","civilStatus","name","civilStatus",1,"form-control",3,"ngModelChange","ngModel"],["value","Single"],["value","Married"],["value","Widowed"],["value","Divorced"],["value","Separated"],["for","nationality"],["type","text","id","nationality","name","nationality","placeholder","e.g. Filipino",1,"form-control",3,"ngModelChange","ngModel"],[1,"section-description"],["for","email"],["type","email","id","email","name","email","placeholder","e.g. resident@email.com","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Set login password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contact"],["type","tel","id","contact","name","contact","placeholder","e.g. 0917 123 4567",1,"form-control",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","rows","3","placeholder","Enter complete address",1,"form-control",3,"ngModelChange","ngModel"],["for","purok"],["id","purok","name","purok","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Purok 1"],["value","Purok 2"],["value","Purok 3"],[1,"error-msg"],[1,"success-msg"],[1,"form-actions"],["type","button",1,"btn","btn--outline",3,"click"],["type","submit",1,"btn","btn--primary",3,"disabled"]],template:function(p,r){p&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),i(3,"Add New Resident"),t(),e(4,"a",3),i(5,"\u2190 Back to Residents List"),t()(),e(6,"div",4)(7,"form",5),h("ngSubmit",function(){return r.submit()}),e(8,"div",6)(9,"h2",7),i(10,"Personal Information"),t(),e(11,"div",8)(12,"div",9)(13,"label",10),i(14,"Full Name "),e(15,"span",11),i(16,"*"),t()(),e(17,"input",12),s("ngModelChange",function(n){return l(r.resident.name,n)||(r.resident.name=n),n}),t()(),e(18,"div",9)(19,"label",13),i(20,"Age "),e(21,"span",11),i(22,"*"),t()(),e(23,"input",14),s("ngModelChange",function(n){return l(r.resident.age,n)||(r.resident.age=n),n}),t()()(),e(24,"div",8)(25,"div",9)(26,"label",15),i(27,"Gender "),e(28,"span",11),i(29,"*"),t()(),e(30,"select",16),s("ngModelChange",function(n){return l(r.resident.gender,n)||(r.resident.gender=n),n}),e(31,"option",17),i(32,"Select gender"),t(),e(33,"option",18),i(34,"Male"),t(),e(35,"option",19),i(36,"Female"),t()()(),e(37,"div",9)(38,"label",20),i(39,"Birthdate"),t(),e(40,"input",21),s("ngModelChange",function(n){return l(r.resident.birthdate,n)||(r.resident.birthdate=n),n}),t()(),e(41,"div",9)(42,"label",22),i(43,"Place of Birth"),t(),e(44,"input",23),s("ngModelChange",function(n){return l(r.resident.placeOfBirth,n)||(r.resident.placeOfBirth=n),n}),t()()(),e(45,"div",8)(46,"div",9)(47,"label",24),i(48,"Birth Certificate Number"),t(),e(49,"input",25),s("ngModelChange",function(n){return l(r.resident.birthCertificateNumber,n)||(r.resident.birthCertificateNumber=n),n}),t()(),e(50,"div",9)(51,"label",26),i(52,"Blood Type"),t(),e(53,"select",27),s("ngModelChange",function(n){return l(r.resident.bloodType,n)||(r.resident.bloodType=n),n}),e(54,"option",17),i(55,"Select blood type"),t(),e(56,"option",28),i(57,"A+"),t(),e(58,"option",29),i(59,"A-"),t(),e(60,"option",30),i(61,"B+"),t(),e(62,"option",31),i(63,"B-"),t(),e(64,"option",32),i(65,"AB+"),t(),e(66,"option",33),i(67,"AB-"),t(),e(68,"option",34),i(69,"O+"),t(),e(70,"option",35),i(71,"O-"),t()()()(),e(72,"div",8)(73,"div",9)(74,"label",36),i(75,"Civil Status"),t(),e(76,"select",37),s("ngModelChange",function(n){return l(r.resident.civilStatus,n)||(r.resident.civilStatus=n),n}),e(77,"option",17),i(78,"Select civil status"),t(),e(79,"option",38),i(80,"Single"),t(),e(81,"option",39),i(82,"Married"),t(),e(83,"option",40),i(84,"Widowed"),t(),e(85,"option",41),i(86,"Divorced"),t(),e(87,"option",42),i(88,"Separated"),t()()(),e(89,"div",9)(90,"label",43),i(91,"Nationality"),t(),e(92,"input",44),s("ngModelChange",function(n){return l(r.resident.nationality,n)||(r.resident.nationality=n),n}),t()()()(),e(93,"div",6)(94,"h2",7),i(95,"Login Credentials (Resident Portal)"),t(),e(96,"p",45),i(97,"Email and password for residents to sign in to the resident portal."),t(),e(98,"div",8)(99,"div",9)(100,"label",46),i(101,"Email "),e(102,"span",11),i(103,"*"),t()(),e(104,"input",47),s("ngModelChange",function(n){return l(r.resident.email,n)||(r.resident.email=n),n}),t()(),e(105,"div",9)(106,"label",48),i(107,"Password "),e(108,"span",11),i(109,"*"),t()(),e(110,"input",49),s("ngModelChange",function(n){return l(r.resident.password,n)||(r.resident.password=n),n}),t()()()(),e(111,"div",6)(112,"h2",7),i(113,"Contact & Address Information"),t(),e(114,"div",8)(115,"div",9)(116,"label",50),i(117,"Contact Number"),t(),e(118,"input",51),s("ngModelChange",function(n){return l(r.resident.contact,n)||(r.resident.contact=n),n}),t()()(),e(119,"div",9)(120,"label",52),i(121,"Address"),t(),e(122,"textarea",53),s("ngModelChange",function(n){return l(r.resident.address,n)||(r.resident.address=n),n}),t()()(),e(123,"div",6)(124,"h2",7),i(125,"Barangay Information"),t(),e(126,"div",9)(127,"label",54),i(128,"Purok "),e(129,"span",11),i(130,"*"),t()(),e(131,"select",55),s("ngModelChange",function(n){return l(r.resident.purok,n)||(r.resident.purok=n),n}),e(132,"option",17),i(133,"Select purok"),t(),e(134,"option",56),i(135,"Purok 1"),t(),e(136,"option",57),i(137,"Purok 2"),t(),e(138,"option",58),i(139,"Purok 3"),t()()()(),u(140,G,2,1,"div",59),u(141,j,2,0,"div",60),e(142,"div",61)(143,"button",62),h("click",function(){return r.reset()}),i(144,"Reset Form"),t(),e(145,"button",63),i(146,"Add Resident"),t()()()()()),p&2&&(o(17),a("ngModel",r.resident.name),o(6),a("ngModel",r.resident.age),o(7),a("ngModel",r.resident.gender),o(10),a("ngModel",r.resident.birthdate),o(4),a("ngModel",r.resident.placeOfBirth),o(5),a("ngModel",r.resident.birthCertificateNumber),o(4),a("ngModel",r.resident.bloodType),o(23),a("ngModel",r.resident.civilStatus),o(16),a("ngModel",r.resident.nationality),o(12),a("ngModel",r.resident.email),o(6),a("ngModel",r.resident.password),o(8),a("ngModel",r.resident.contact),o(4),a("ngModel",r.resident.address),o(9),a("ngModel",r.resident.purok),o(9),f(r.error?140:-1),o(),f(r.submitted?141:-1),o(4),_("disabled",r.submitted))},dependencies:[y,F,A,k,N,P,R,T,x,O,q,I,L,B,W,w],styles:[".add-resident[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.form-card[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--color-border)}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:0;padding-bottom:0}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0 0 .5rem;color:var(--color-text)}.form-section[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-muted);margin:0 0 1.25rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media(max-width:768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:6px;color:var(--color-text)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid var(--color-border);border-radius:var(--radius);background:var(--color-bg-card);font-size:1rem}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #2563eb26}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:var(--color-text-muted)}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.error-msg[_ngcontent-%COMP%]{padding:12px 16px;background:#fef2f2;border:1px solid #fecaca;border-radius:var(--radius);color:#dc2626;margin-bottom:1rem;font-size:.9375rem}.success-msg[_ngcontent-%COMP%]{padding:12px 16px;background:var(--color-success-bg);border:1px solid var(--color-success);border-radius:var(--radius);color:var(--color-success);margin-bottom:1rem;font-weight:500;font-size:.9375rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--color-border)}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return m})();export{Z as AddResidentComponent};
