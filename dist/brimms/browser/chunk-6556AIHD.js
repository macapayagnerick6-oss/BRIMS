import{c as O,f as q}from"./chunk-BRLNKSN4.js";import"./chunk-KPGMZ2XY.js";import{c as b,d as v}from"./chunk-DUWH3AKD.js";import{$a as t,Ea as m,Ia as f,Pb as P,Ta as d,Ua as c,Vb as p,Za as _,_a as e,db as M,lb as n,mb as l,nb as C,xa as r}from"./chunk-PQPYQFLK.js";function x(o,u){o&1&&(e(0,"div",22)(1,"div",29),n(2,"\u2139\uFE0F"),t(),e(3,"div",30)(4,"h3"),n(5,"Your request is pending"),t(),e(6,"p"),n(7,"Your request has been submitted and is waiting to be reviewed by barangay staff. You will be notified once it's been processed."),t()()())}function h(o,u){o&1&&(e(0,"div",23)(1,"div",29),n(2,"\u{1F441}"),t(),e(3,"div",30)(4,"h3"),n(5,"Under review"),t(),e(6,"p"),n(7,"Your request is currently being reviewed by barangay staff. This process may take a few days. Please check back later for updates."),t()()())}function w(o,u){o&1&&(e(0,"div",24)(1,"div",29),n(2,"\u2713"),t(),e(3,"div",30)(4,"h3"),n(5,"Request approved!"),t(),e(6,"p"),n(7,"Your request has been approved. You can now download your certificate or visit the barangay office to claim it."),t()()())}function S(o,u){o&1&&(e(0,"button",26)(1,"span",28),n(2,"\u2B07"),t(),e(3,"span"),n(4,"Download Certificate"),t()())}function y(o,u){if(o&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),n(4,"Request Details"),t(),e(5,"span",5),n(6),t()(),e(7,"a",6)(8,"span",7),n(9,"\u2190"),t(),e(10,"span",8),n(11,"Back to Requests"),t()()(),e(12,"div",9)(13,"div",10)(14,"div",11),n(15),t(),e(16,"div",12)(17,"div",13),n(18,"Status"),t(),e(19,"div",14)(20,"span",15),n(21),t()()()(),e(22,"div",16)(23,"h2"),n(24,"Request Information"),t(),e(25,"div",17)(26,"div",18)(27,"span",19),n(28,"Request Type"),t(),e(29,"span",20),n(30),t()(),e(31,"div",18)(32,"span",19),n(33,"Purpose"),t(),e(34,"span",20),n(35),t()(),e(36,"div",18)(37,"span",19),n(38,"Date Submitted"),t(),e(39,"span",20),n(40),t()(),e(41,"div",18)(42,"span",19),n(43,"Request ID"),t(),e(44,"span",21),n(45),t()()()(),d(46,x,8,0,"div",22),d(47,h,8,0,"div",23),d(48,w,8,0,"div",24),e(49,"div",25),d(50,S,5,0,"button",26),e(51,"a",27)(52,"span",28),n(53,"+"),t(),e(54,"span"),n(55,"Submit New Request"),t()()()()()),o&2){let i=M();r(6),C("ID: ",i.request.id),r(7),_("ngClass","status-card--"+i.request.status.toLowerCase().replace(" ","-")),r(2),l(i.getStatusIcon(i.request.status)),r(5),_("ngClass",i.getStatusBadgeClass(i.request.status)),r(),C(" ",i.request.status," "),r(9),l(i.request.type),r(5),l(i.request.purpose),r(5),l(i.request.date),r(5),l(i.request.id),r(),c(i.request.status==="Pending"?46:-1),r(),c(i.request.status==="For Review"?47:-1),r(),c(i.request.status==="Approved"?48:-1),r(2),c(i.canDownload()?50:-1)}}function R(o,u){o&1&&(e(0,"div",1)(1,"div",31)(2,"div",32),n(3,"\u274C"),t(),e(4,"h1",4),n(5,"Request Not Found"),t(),e(6,"p",33),n(7,"The request you're looking for doesn't exist or you don't have permission to view it."),t(),e(8,"a",6)(9,"span",7),n(10,"\u2190"),t(),e(11,"span",8),n(12,"Back to My Requests"),t()()()())}var B=(()=>{class o{constructor(i,a,s){this.route=i,this.data=a,this.auth=s;let g=this.route.snapshot.paramMap.get("id");g&&(this.request=this.getRequestIfOwned(g))}ngOnInit(){this.route.paramMap.subscribe(i=>{let a=i.get("id");a?this.request=this.getRequestIfOwned(a):this.request=void 0})}getRequestIfOwned(i){let a=this.data.getRequestById(i);if(!a)return;let s=this.auth.currentUser;if(!s||s.role!=="resident")return;let g=this.data.getResidentById(s.id);if(a.residentId===g?.residentId)return a}getStatusBadgeClass(i){return i==="Approved"?"badge--success":i==="Pending"||i==="For Review"||i==="Rejected"?"badge--warning":""}getStatusIcon(i){return i==="Approved"?"\u2713":i==="Pending"?"\u23F3":i==="For Review"?"\u{1F441}":i==="Rejected"?"\u2717":"\u{1F4C4}"}canDownload(){return this.request?.status==="Approved"}static{this.\u0275fac=function(a){return new(a||o)(m(O),m(b),m(v))}}static{this.\u0275cmp=f({type:o,selectors:[["app-resident-request-detail"]],decls:3,vars:1,consts:[[1,"resident-request-detail"],[1,"card"],[1,"request-header"],[1,"request-header__title"],[1,"page-title"],[1,"request-id"],["routerLink","/resident/requests",1,"back-button"],[1,"back-button__icon"],[1,"back-button__text"],[1,"request-info"],[1,"status-card",3,"ngClass"],[1,"status-card__icon"],[1,"status-card__content"],[1,"status-card__label"],[1,"status-card__value"],[1,"badge",3,"ngClass"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"info-value","info-value--mono"],[1,"status-message","status-message--info"],[1,"status-message","status-message--warning"],[1,"status-message","status-message--success"],[1,"action-section"],[1,"btn","btn--success","btn--lg"],["routerLink","/resident/request-certificate",1,"btn","btn--primary","btn--lg"],[1,"btn-icon"],[1,"status-message__icon"],[1,"status-message__content"],[1,"error-state"],[1,"error-state__icon"],[1,"muted"]],template:function(a,s){a&1&&(e(0,"div",0),d(1,y,56,13,"div",1)(2,R,13,0,"div",1),t()),a&2&&(r(),c(s.request?1:2))},dependencies:[p,P,q],styles:[".resident-request-detail[_ngcontent-%COMP%]   .request-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}.resident-request-detail[_ngcontent-%COMP%]   .request-header__title[_ngcontent-%COMP%]{flex:1}.resident-request-detail[_ngcontent-%COMP%]   .request-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.resident-request-detail[_ngcontent-%COMP%]   .request-header[_ngcontent-%COMP%]   .request-id[_ngcontent-%COMP%]{display:inline-block;font-size:.875rem;color:var(--color-text-muted);font-family:Courier New,monospace;background:var(--color-bg);padding:.25rem .75rem;border-radius:var(--radius);border:1px solid var(--color-border)}@media(max-width:640px){.resident-request-detail[_ngcontent-%COMP%]   .request-header[_ngcontent-%COMP%]{flex-direction:column}.resident-request-detail[_ngcontent-%COMP%]   .request-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}.resident-request-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;color:var(--color-text);text-decoration:none;font-weight:500;font-size:.9375rem;border-radius:var(--radius);transition:all .2s ease;width:fit-content;background:var(--color-bg);border:1px solid var(--color-border);white-space:nowrap}.resident-request-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:var(--color-bg-card);border-color:var(--color-primary);color:var(--color-primary);transform:translate(-2px);box-shadow:var(--shadow)}.resident-request-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:active{transform:translate(-1px)}.resident-request-detail[_ngcontent-%COMP%]   .back-button__icon[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1;transition:transform .2s ease}.resident-request-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover   .resident-request-detail[_ngcontent-%COMP%]   .back-button__icon[_ngcontent-%COMP%]{transform:translate(-2px)}.resident-request-detail[_ngcontent-%COMP%]   .back-button__text[_ngcontent-%COMP%]{line-height:1.5}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;padding:1.5rem;border-radius:var(--radius-lg);margin-bottom:2rem;border:2px solid;background:var(--color-bg-card)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card__icon[_ngcontent-%COMP%]{font-size:3rem;line-height:1;flex-shrink:0}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card__content[_ngcontent-%COMP%]{flex:1}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card__label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-muted);margin-bottom:.5rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card__value[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card--pending[_ngcontent-%COMP%]{border-color:#f59e0b;background:linear-gradient(135deg,#f59e0b1a,#f59e0b0d)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card--for-review[_ngcontent-%COMP%]{border-color:#8b5cf6;background:linear-gradient(135deg,#8b5cf61a,#8b5cf60d)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-card--approved[_ngcontent-%COMP%]{border-color:#10b981;background:linear-gradient(135deg,#10b9811a,#10b9810d)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{margin-bottom:2rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.25rem;color:var(--color-text);font-size:1.25rem;font-weight:600}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media(max-width:640px){.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius);transition:all .2s ease}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:hover{border-color:var(--color-primary);box-shadow:var(--shadow-sm)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text-muted);font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:var(--color-text);font-size:1rem;font-weight:500}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value--mono[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.9375rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;border-radius:var(--radius-lg);margin-bottom:2rem;border:1px solid}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message__icon[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1;flex-shrink:0}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message__content[_ngcontent-%COMP%]{flex:1}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:var(--color-text)}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:var(--color-text-muted);line-height:1.6}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message--info[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f6;color:#3b82f6}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message--warning[_ngcontent-%COMP%]{background:#f59e0b1a;border-color:#f59e0b;color:#f59e0b}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .status-message--success[_ngcontent-%COMP%]{background:#10b9811a;border-color:#10b981;color:#10b981}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-top:2rem;border-top:1px solid var(--color-border);flex-wrap:wrap}@media(max-width:640px){.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{flex-direction:column}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .btn--lg[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:1rem}.resident-request-detail[_ngcontent-%COMP%]   .request-info[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1}.resident-request-detail[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem}.resident-request-detail[_ngcontent-%COMP%]   .error-state__icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.resident-request-detail[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.resident-request-detail[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{margin-bottom:2rem;max-width:500px;margin-left:auto;margin-right:auto}.resident-request-detail[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin:0 auto}"]})}}return o})();export{B as ResidentRequestDetailComponent};
